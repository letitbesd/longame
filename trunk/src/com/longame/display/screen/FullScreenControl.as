package com.longame.display.screen{		import flash.geom.Point;		import flash.display.StageDisplayState;		import flash.display.Stage;		import flash.display.DisplayObject;		import flash.display.StageScaleMode;		import flash.geom.Rectangle;		/**	 * A utility class for changing any asset to fullscreen and back.	 * 	 * @example	 * <listing>     * import com.mosaiceye.utils.FullScreenControl;     * var fsc:FullScreenControl = new FullScreenControl(this);     * fsc.toggleFullScreen();     * </listing>     * 	 * @author Tony Birleffi	 */	public class FullScreenControl	{		/** Stores Normal Screen Size Properties */		private var _fullScreenCache:Object;				/** Reference the display object's stage. */		private var _stage:Stage;				/** The display object. */		private var _do:DisplayObject;				/**		 * Constructor.		 * 		 * @param value		DisplayObject.		 */		public function FullScreenControl(value:DisplayObject)		{			// Define the stage and display object..			_do = value;			_stage = value.stage;						// Define the fullscreen cache.			_fullScreenCache = 			{				scaleMode:(_stage) ? _stage.scaleMode : StageScaleMode.NO_SCALE,				rect:new Rectangle(_do.x, _do.y, (_stage) ? _stage.fullScreenWidth : _do.width, (_stage) ? _stage.fullScreenHeight : _do.height)			};		}				/**		 * Switch between full and normal screen modes.		 */		public function toggleFullScreen():void		{			(_stage.displayState != StageDisplayState.FULL_SCREEN) ? enterFullScreen() : exitFullScreen();		}				/**		 * Enter full screen.		 */		private function enterFullScreen():void		{			// Define the point.			var pos:Point = new Point(_do.x, _do.y);			_do.parent.localToGlobal(pos);						// Set the fullscreen cache.			_fullScreenCache["align"] = _stage.align;			_fullScreenCache["scaleMode"] = _stage.scaleMode;						// Define the rect.			var rect:Rectangle = Rectangle(_fullScreenCache[ "rect" ]);			rect.height = _stage.fullScreenHeight;			rect.width = _stage.fullScreenWidth;			rect.x = pos.x;			rect.y = pos.y;						// Change the stage to fullscreen.			_stage.scaleMode = StageScaleMode.NO_SCALE;			_stage.fullScreenSourceRect = rect;						// Change the display state.			_stage.displayState = StageDisplayState.FULL_SCREEN;		}				/**		 * Exit full screen.		 */		private function exitFullScreen():void		{			_stage.scaleMode = _fullScreenCache["scaleMode"];			_stage.fullScreenSourceRect = undefined;			_stage.displayState = StageDisplayState.NORMAL;		}	}}